# 全国分散诉调平台 (DRMP)

## 项目简介

全国分散诉调平台（Dispute Resolution & Mediation Platform - DRMP）是一个连接个贷不良资产案源机构和处置机构的智能化平台。平台旨在解决当前个贷不良资产处置领域的信息不对称和匹配效率低下问题，通过提供智能匹配、高效协同和数据赋能的服务，显著提升不良资产处置效率。

### 业务背景
当前中国个贷不良资产处置领域面临诸多挑战：
- **信息不对称**：案源机构难以高效寻找具备相应地域、专业能力的处置机构
- **匹配效率低**：传统模式下案件分发、进度跟踪、数据对账等环节多依赖人工
- **流程繁琐**：处置流程复杂，易出错，且难以规模化
- **成本居高**：运营成本高，处置效率低下

### 核心价值
- **高效匹配**：通过智能分案引擎，实现案源机构与处置机构的精准、快速匹配
- **流程优化**：提供案件全生命周期管理，从案件导入到结算的全流程线上化
- **数据赋能**：提供多维度数据分析报告和实时看板，辅助业务决策
- **成本节约**：通过提升效率和优化匹配，有效降低不良资产处置的综合成本

### 双核心系统架构
本平台采用"平台+工具"的双核心系统架构：
- **DRMP（分散诉调平台）**：管理与协同中枢，面向管理人员
- **IDS（智调系统）**：执行与作业工具，面向一线作业人员
- 两系统通过API深度集成，实现数据实时同步

### 目标用户
- **案源机构（委托方）**：银行、消费金融公司、网络贷款公司、助贷公司、小额贷款公司、资产管理公司（AMC）等
  - 核心诉求：高效、合规地处置不良资产，提升回款率，降低处置成本
- **处置机构（服务方）**：调解中心、律师事务所及其他专业处置机构
  - 核心诉求：稳定获取高质量案源，提升案件处理效率，获得合理收益
- **债务人（间接用户）**：通过平台获得顺畅的沟通渠道和合理的还款方案

## 技术栈

### 前端技术
- **React 18** - 现代化前端框架，支持并发特性
- **TypeScript** - 类型安全的JavaScript超集
- **Ant Design 5.x** - 企业级UI组件库，支持设计令牌
- **React Router v6** - 前端路由管理
- **Zustand** - 轻量级状态管理
- **TanStack Query** - 强大的数据获取和缓存库
- **React Hook Form** - 高性能表单处理
- **Vite** - 快速构建工具
- **MSW** - API模拟和测试

### 后端技术
- **Java 17** - 企业级开发语言，LTS版本
- **Spring Boot 3.x** - 微服务框架，支持原生镜像
- **Spring Cloud Alibaba** - 微服务生态
  - **Nacos** - 服务发现与配置管理
  - **Sentinel** - 流量控制与熔断降级
  - **Seata** - 分布式事务解决方案
- **Spring Security** - 安全认证框架
- **Spring Data JPA** - 数据访问层
- **MySQL 8.0** + **ShardingSphere** - 分库分表解决方案
- **Redis Cluster** - 分布式缓存和会话管理
- **RocketMQ** - 高性能消息队列
- **Elasticsearch** - 全文搜索引擎
- **JWT** + **OAuth2** - 身份认证与授权
- **RBAC** - 基于角色的访问控制

### 基础设施
- **Docker** + **Kubernetes** - 容器化部署
- **MinIO** / **OSS** - 对象存储服务
- **Nginx** - 负载均衡与反向代理
- **Prometheus** + **Grafana** - 监控告警
- **ELK Stack** - 日志收集与分析
- **SkyWalking** - 分布式链路追踪

### 构建工具
- **Maven** - Java项目管理工具
- **npm/pnpm** - 前端包管理工具
- **Jenkins** / **GitLab CI** - 持续集成部署

## 系统架构

本平台采用"平台+工具"的双核心系统架构：

### 分散诉调平台 (DRMP)
- **定位**：管理与协同中枢
- **用户**：案源机构管理人员、处置机构管理人员、平台运营人员
- **功能**：机构入驻、案件包发布与流转、智能分案匹配、进度监控、对账结算、数据分析

### 智调系统 (IDS)
- **定位**：执行与作业工具
- **用户**：处置机构的调解员、律师、催收员等一线作业人员
- **功能**：具体案件处置工具、电话/短信/函件、法律文书生成、失联修复、机器人立案
- **集成**：通过API与DRMP进行深度数据集成

### 微服务架构

为满足高并发和海量数据处理需求，采用微服务架构设计：

```
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│   Gateway       │  │   User Service  │  │  Case Service   │
│   (Nginx +      │  │   (用户管理)     │  │  (案件管理)      │
│    Spring       │  │                 │  │                 │
│    Cloud        │  │                 │  │                 │
│    Gateway)     │  │                 │  │                 │
└─────────────────┘  └─────────────────┘  └─────────────────┘
        │                      │                      │
        └──────────────────────┼──────────────────────┘
                               │
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│ Assignment      │  │ Mediation       │  │ Settlement      │
│ Service         │  │ Service         │  │ Service         │
│ (智能分案)       │  │ (调解处置)       │  │ (对账结算)       │
└─────────────────┘  └─────────────────┘  └─────────────────┘
        │                      │                      │
        └──────────────────────┼──────────────────────┘
                               │
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│ Notification    │  │ File Service    │  │ Analytics       │
│ Service         │  │ (文件存储)       │  │ Service         │
│ (通知服务)       │  │                 │  │ (数据分析)       │
└─────────────────┘  └─────────────────┘  └─────────────────┘
```

**核心微服务说明**：
- **用户服务**：机构管理、用户认证、权限控制
- **案件服务**：案件管理、批量导入、状态流转
- **分案服务**：智能匹配算法、分案策略管理
- **调解服务**：处置流程管理、与IDS系统集成
- **结算服务**：对账管理、财务结算
- **通知服务**：消息推送、邮件短信发送
- **文件服务**：对象存储、文档管理
- **分析服务**：数据统计、报表生成

## 核心功能模块

### 1. 机构管理
- **机构入驻与认证**：支持线上线下入驻，完整的资质审核流程
- **权限管理（RBAC）**：精细化角色权限控制，支持机构内部用户管理
- **会员费管理**：处置机构会员费管理，999元/月标准定价

### 2. 案件中心
- **案件包批量导入**：支持Excel/CSV大批量导入，完整数据校验
- **智能分案引擎**：多维度匹配策略（地域、金额、账龄、业绩、智能推荐）
- **案件市场**：处置机构可主动浏览和申请感兴趣的案件包
- **案件流转管理**：完整的案件状态流转，支持在线签署委托协议

### 3. 进度与协同
- **案件详情与督办**：详细案件信息展示，支持督办提醒和进度跟踪
- **沟通与对账**：每日回款数据提交，自动生成对账报表，异议处理流程
- **债务人互动接口**：专属还款页面，在线沟通，支付集成（V2.0规划）

### 4. 数据与报表
- **业绩看板（案源方）**：回款率、处置周期、机构业绩对比等关键指标
- **效能看板（处置方）**：内部人员业绩、案件类型分析、负载效率分析
- **平台运营看板**：整体运营数据、机构活跃度、系统健康监控

### 5. 增值服务
- **数据分析报告**：深度行业分析，债务人画像，区域特征分析
- **法律工具服务**：批量生成法律文书，立案机器人（对接法院系统）

## 快速开始

### 环境要求
- **JDK 17+** - Java开发环境
- **Node.js 18+** - 前端开发环境
- **MySQL 8.0+** - 关系型数据库
- **Redis 7.0+** - 分布式缓存
- **Elasticsearch 8.x** - 全文搜索引擎
- **RocketMQ 5.x** - 消息队列
- **Docker** - 容器化环境
- **Maven 3.8+** - 构建工具

### 后端启动

1. 克隆项目
```bash
git clone https://github.com/your-org/drmp.git
cd drmp
```

2. 配置数据库
```bash
# 创建数据库
mysql -u root -p
CREATE DATABASE drmp CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

3. 修改配置文件
```bash
# 编辑 backend/src/main/resources/application.yml
# 配置数据库连接、Redis连接等
```

4. 构建并启动后端服务
```bash
cd backend
mvn clean install
mvn spring-boot:run
```

### 前端启动

1. 安装依赖
```bash
cd frontend
npm install
# 或
yarn install
```

2. 配置环境变量
```bash
# 创建 .env.local 文件
cp .env.example .env.local
# 编辑 .env.local，配置后端API地址
```

3. 启动开发服务器
```bash
npm run dev
# 或
yarn dev
```

4. 访问应用
```
http://localhost:3000
```

## 项目结构

```
drmp/
├── backend/                # 后端服务
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/
│   │   │   │   └── com/drmp/
│   │   │   │       ├── controller/     # REST控制器
│   │   │   │       ├── service/        # 业务逻辑
│   │   │   │       ├── repository/     # 数据访问
│   │   │   │       ├── entity/         # 实体类
│   │   │   │       ├── dto/            # 数据传输对象
│   │   │   │       ├── config/         # 配置类
│   │   │   │       ├── security/       # 安全相关
│   │   │   │       └── utils/          # 工具类
│   │   │   └── resources/
│   │   │       ├── application.yml     # 主配置文件
│   │   │       └── db/migration/       # 数据库迁移脚本
│   │   └── test/
│   └── pom.xml
├── frontend/               # 前端应用
│   ├── src/
│   │   ├── components/     # 组件
│   │   ├── pages/          # 页面
│   │   ├── services/       # API服务
│   │   ├── store/          # 状态管理
│   │   ├── utils/          # 工具函数
│   │   └── App.tsx         # 应用入口
│   ├── public/
│   └── package.json
├── docs/                   # 文档
├── scripts/                # 脚本
├── docker-compose.yml      # Docker编排
└── README.md
```

## API文档

后端服务启动后，可以通过以下地址访问API文档：
- Swagger UI: `http://localhost:8080/swagger-ui.html`
- API Docs: `http://localhost:8080/api-docs`

## 开发指南

### 代码规范
- 后端遵循阿里巴巴Java开发手册
- 前端遵循Airbnb JavaScript Style Guide
- 使用ESLint和Prettier进行代码格式化

### 分支管理
- `main` - 主分支，保持稳定
- `develop` - 开发分支
- `feature/*` - 功能分支
- `hotfix/*` - 紧急修复分支

### 提交规范
使用约定式提交（Conventional Commits）：
- `feat:` 新功能
- `fix:` 修复bug
- `docs:` 文档更新
- `style:` 代码格式调整
- `refactor:` 代码重构
- `test:` 测试相关
- `chore:` 构建过程或辅助工具的变动

## 部署

### Docker部署
```bash
# 构建镜像
docker-compose build

# 启动服务
docker-compose up -d
```

### 生产环境配置
- 使用环境变量管理敏感配置
- 配置HTTPS
- 设置适当的CORS策略
- 启用生产级别的日志和监控

## 非功能性需求

### 性能要求
- **并发用户数**：支持10万+用户同时在线，通过微服务架构和Redis Cluster确保高并发稳定性
- **案件处理量**：年处理案件量超过1000万件，通过ShardingSphere分库分表支持海量数据
- **批量导入效率**：单次导入10万案件在5分钟内完成，使用RocketMQ异步处理提升效率
- **文件存储**：支持每个案件超过100MB的图文材料，基于MinIO/OSS实现PB级分布式存储
- **响应速度**：数据查询毫秒级响应，Elasticsearch支持复杂搜索秒级返回
- **吞吐量**：系统峰值QPS达到10万+，通过负载均衡和缓存优化实现

### 安全要求
- **数据加密**：
  - 敏感数据采用AES-256加密算法，密钥分级管理
  - 身份证、手机号等PII信息使用国密算法SM4加密存储
  - 数据库字段级加密，支持密文检索
- **传输安全**：
  - 全站HTTPS，使用TLS 1.3协议
  - API请求采用HMAC-SHA256签名机制
  - 客户端证书双向认证（高敏感操作）
- **身份认证与授权**：
  - OAuth2 + JWT无状态认证架构
  - 支持SSO单点登录和多端设备管理
  - 基于RBAC的细粒度权限控制，支持数据权限隔离
  - 多因子认证（MFA）强化账户安全
- **攻击防护**：
  - WAF防护：SQL注入、XSS、CSRF等攻击
  - API限流：基于用户和IP的多维度限流
  - 异常检测：基于AI的异常行为识别
- **审计与合规**：
  - 完整操作审计日志，包含用户行为、数据变更、系统事件
  - 支持日志不可篡改性验证
  - 符合《网络安全法》、《数据安全法》、《个人信息保护法》要求
- **数据脱敏**：
  - 生产数据脱敏，测试环境禁用真实敏感数据
  - 支持动态脱敏，根据用户权限显示不同粒度数据

### 可用性要求
- **系统稳定性**：年可用性达到99.95%以上（年停机时间少于4.4小时）
- **容灾备份**：
  - 数据库主从复制，异地容灾备份
  - 增量备份（每小时）+ 全量备份（每日）
  - RTO ≤ 30分钟，RPO ≤ 15分钟
- **故障恢复**：
  - 基于Kubernetes的自动故障检测和服务重启
  - 熔断降级机制，核心功能优先保障
  - 蓝绿部署，零停机发布

### 扩展性要求
- **微服务架构**：
  - 支持服务独立开发、测试、部署
  - 基于Spring Cloud Alibaba的服务治理
  - API版本管理，向后兼容
- **弹性伸缩**：
  - Kubernetes HPA基于CPU/内存/自定义指标自动扩缩容
  - 数据库读写分离，读库支持动态扩展
  - CDN加速静态资源，提升全球访问速度
- **配置化管理**：
  - 基于Nacos的动态配置管理
  - 业务规则引擎，支持规则热更新
  - 多环境配置隔离（开发/测试/生产）

## 许可证

本项目采用商业许可证，详情请联系项目负责人。

## 联系方式

- 项目负责人：[姓名]
- 邮箱：[email]
- 技术支持：[support email]

## 版本迭代规划

### MVP版本（4-6个月）
**目标**：快速验证商业模式，实现基础功能闭环
- ✅ 机构入驻与认证（案源机构和处置机构）
- ✅ 案件包批量导入和基础数据校验
- ✅ 手动分案功能（无智能匹配）
- ✅ 案件基本信息展示和状态管理
- ✅ 回款数据手动录入与基础对账
- ✅ 基础业绩看板和报表功能

### V1.0版本（6-8个月）
**目标**：完善用户体验，引入智能化功能
- 🔄 智能分案引擎（多维度策略，机器学习推荐）
- 🔄 在线签署委托协议（电子合同生成和签署）
- 🔄 智调系统API集成（实时数据同步）
- 🔄 完善的业绩和效能看板
- 🔄 法律文书批量生成工具
- 🔄 案件详情页面和督办功能

### V2.0版本（持续迭代）
**目标**：构建完善生态，提升平台竞争力
- 📋 债务人互动接口（专属还款页面）
- 📋 立案机器人（对接法院系统）
- 📋 深度数据分析报告服务
- 📋 移动端应用开发
- 📋 AI辅助决策系统
- 📋 区块链存证功能

### 商业模式规划
- **初期阶段（前3个月）**：案源机构和处置机构均免费使用
- **成熟阶段（3个月后）**：案源机构免费，处置机构收费999元/月
- **增值服务**：数据分析报告和法律工具按需付费